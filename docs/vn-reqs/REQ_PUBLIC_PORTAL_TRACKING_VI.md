# YÃªu cáº§u: Cá»•ng thÃ´ng tin cÃ´ng khai & Theo dÃµi

## ThÃ´ng tin tÃ i liá»‡u

**ID TÃ i liá»‡u**: REQ-PPT-001
**PhiÃªn báº£n**: 1.0
**NgÃ y**: 2025-10-22
**Tráº¡ng thÃ¡i**: Báº£n nhÃ¡p
**TÃ i liá»‡u liÃªn quan**:
- REQ_WAREHOUSE_PHYSICAL_PRODUCTS.md
- REQ_SERVICE_REQUEST_LAYER.md
- REQ_TASK_WORKFLOW_SYSTEM.md
- USER_JOURNEY.md

---

## Bá»‘i cáº£nh kinh doanh

### Má»¥c Ä‘Ã­ch

Há»‡ thá»‘ng Cá»•ng thÃ´ng tin cÃ´ng khai & Theo dÃµi cung cáº¥p cho khÃ¡ch hÃ ng kháº£ nÄƒng hiá»ƒn thá»‹ minh báº¡ch, theo thá»i gian thá»±c vá» cÃ¡c yÃªu cáº§u dá»‹ch vá»¥ vÃ  phiáº¿u sá»­a chá»¯a cá»§a há» mÃ  khÃ´ng cáº§n xÃ¡c thá»±c. NÃ³ Ä‘Ã³ng vai trÃ² lÃ  giao diá»‡n chÃ­nh hÆ°á»›ng tá»›i khÃ¡ch hÃ ng nháº±m:

1.  **XÃ¢y dá»±ng lÃ²ng tin**: Cáº­p nháº­t tiáº¿n Ä‘á»™ minh báº¡ch giÃºp giáº£m bá»›t lo láº¯ng cá»§a khÃ¡ch hÃ ng
2.  **Giáº£m táº£i há»— trá»£**: Theo dÃµi tá»± phá»¥c vá»¥ lÃ m giáº£m cÃ¡c cuá»™c gá»i "thiáº¿t bá»‹ cá»§a tÃ´i á»Ÿ Ä‘Ã¢u?"
3.  **NÃ¢ng cao tráº£i nghiá»‡m**: Giao tiáº¿p chá»§ Ä‘á»™ng giÃºp khÃ¡ch hÃ ng luÃ´n Ä‘Æ°á»£c thÃ´ng bÃ¡o
4.  **Cho phÃ©p tá»± phá»¥c vá»¥**: KhÃ¡ch hÃ ng cÃ³ thá»ƒ thá»±c hiá»‡n cÃ¡c hÃ nh Ä‘á»™ng (phÃª duyá»‡t sá»­a chá»¯a, xÃ¡c nháº­n giao hÃ ng) trá»±c tuyáº¿n
5.  **Duy trÃ¬ quyá»n riÃªng tÆ°**: Theo dÃµi an toÃ n mÃ  khÃ´ng Ä‘á»ƒ lá»™ dá»¯ liá»‡u kinh doanh nháº¡y cáº£m

### CÃ¡c bÃªn liÃªn quan chÃ­nh

-   **KhÃ¡ch hÃ ng**: NgÆ°á»i dÃ¹ng chÃ­nh tÃ¬m kiáº¿m cáº­p nháº­t tráº¡ng thÃ¡i dá»‹ch vá»¥
-   **NhÃ¢n viÃªn lá»… tÃ¢n**: Chia sáº» liÃªn káº¿t theo dÃµi vÃ  mÃ£ QR vá»›i khÃ¡ch hÃ ng
-   **Ban quáº£n lÃ½**: Theo dÃµi sá»± tÆ°Æ¡ng tÃ¡c cá»§a khÃ¡ch hÃ ng vá»›i cá»•ng thÃ´ng tin theo dÃµi

### GiÃ¡ trá»‹ kinh doanh

-   **Giáº£m khá»‘i lÆ°á»£ng cuá»™c gá»i**: Giáº£m 40-60% cÃ¡c cuá»™c gá»i há»i vá» tráº¡ng thÃ¡i
-   **Cáº£i thiá»‡n sá»± hÃ i lÃ²ng**: KhÃ¡ch hÃ ng Ä‘Ã¡nh giÃ¡ cao sá»± minh báº¡ch vÃ  kiá»ƒm soÃ¡t
-   **PhÃª duyá»‡t nhanh hÆ¡n**: PhÃª duyá»‡t trá»±c tuyáº¿n nhanh hÆ¡n so vá»›i viá»‡c gá»i Ä‘iá»‡n thoáº¡i qua láº¡i
-   **Sá»± khÃ¡c biá»‡t hÃ³a thÆ°Æ¡ng hiá»‡u**: Tráº£i nghiá»‡m dá»‹ch vá»¥ hiá»‡n Ä‘áº¡i, minh báº¡ch
-   **Hiá»‡u quáº£ hoáº¡t Ä‘á»™ng**: NhÃ¢n viÃªn táº­p trung vÃ o dá»‹ch vá»¥, khÃ´ng pháº£i cáº­p nháº­t tráº¡ng thÃ¡i

---

## YÃªu cáº§u chá»©c nÄƒng

### FR-PPT-001: Truy cáº­p khÃ´ng cáº§n xÃ¡c thá»±c qua MÃ£ theo dÃµi

**MÃ´ táº£**: KhÃ¡ch hÃ ng cÃ³ thá»ƒ truy cáº­p thÃ´ng tin theo dÃµi báº±ng mÃ£ theo dÃµi duy nháº¥t mÃ  khÃ´ng cáº§n Ä‘Äƒng nháº­p/táº¡o tÃ i khoáº£n.

**PhÆ°Æ¡ng thá»©c truy cáº­p**:
1.  **URL trá»±c tiáº¿p**: `https://domain.com/track/{tracking_token}`
2.  **MÃ£ QR**: QuÃ©t mÃ£ QR Ä‘Æ°á»£c in trÃªn biÃªn nháº­n
3.  **LiÃªn káº¿t Email**: Nháº¥p vÃ o liÃªn káº¿t trong email thÃ´ng bÃ¡o
4.  **Nháº­p thá»§ cÃ´ng**: Nháº­p sá»‘ theo dÃµi trÃªn trang theo dÃµi

**CÃ¢n nháº¯c báº£o máº­t**:
-   MÃ£ theo dÃµi hoáº¡t Ä‘á»™ng nhÆ° má»™t sá»± á»§y quyá»n (sá»Ÿ há»¯u = quyá»n truy cáº­p)
-   Äá»™ phá»©c táº¡p cá»§a mÃ£: SR-YYYYMMDD-XXXXX (khÃ³ Ä‘oÃ¡n)
-   Giá»›i háº¡n tá»‘c Ä‘á»™: Tá»‘i Ä‘a 20 yÃªu cáº§u má»—i mÃ£ má»—i giá»
-   KhÃ´ng hiá»ƒn thá»‹ dá»¯ liá»‡u tÃ i chÃ­nh nháº¡y cáº£m (chá»‰ tá»•ng sá»‘)
-   KhÃ´ng Ä‘á»ƒ lá»™ thÃ´ng tin cÃ¡ nhÃ¢n cá»§a ká»¹ thuáº­t viÃªn

**CÃ¢u chuyá»‡n ngÆ°á»i dÃ¹ng**:
```
LÃ€ má»™t khÃ¡ch hÃ ng
TÃ”I MUá»N kiá»ƒm tra tráº¡ng thÃ¡i dá»‹ch vá»¥ cá»§a mÃ¬nh mÃ  khÃ´ng cáº§n táº¡o tÃ i khoáº£n
Äá»‚ TÃ”I cÃ³ thá»ƒ nháº­n Ä‘Æ°á»£c cáº­p nháº­t nhanh chÃ³ng vÃ  dá»… dÃ ng
```

**TiÃªu chÃ­ cháº¥p nháº­n**:
- [ ] URL vá»›i mÃ£ theo dÃµi táº£i trang theo dÃµi
- [ ] QuÃ©t mÃ£ QR chuyá»ƒn hÆ°á»›ng Ä‘áº¿n trang theo dÃµi
- [ ] MÃ£ khÃ´ng há»£p lá»‡ hiá»ƒn thá»‹ thÃ´ng bÃ¡o lá»—i thÃ¢n thiá»‡n
- [ ] KhÃ´ng yÃªu cáº§u xÃ¡c thá»±c
- [ ] Háº¿t thá»i gian phiÃªn: 30 phÃºt khÃ´ng hoáº¡t Ä‘á»™ng
- [ ] Hoáº¡t Ä‘á»™ng trÃªn trÃ¬nh duyá»‡t di Ä‘á»™ng vÃ  mÃ¡y tÃ­nh Ä‘á»ƒ bÃ n

---

### FR-PPT-002: Hiá»ƒn thá»‹ tráº¡ng thÃ¡i thá»i gian thá»±c

**MÃ´ táº£**: Hiá»ƒn thá»‹ tráº¡ng thÃ¡i dá»‹ch vá»¥ hiá»‡n táº¡i vá»›i cÃ¡c chá»‰ bÃ¡o tiáº¿n trÃ¬nh trá»±c quan vÃ  dÃ²ng thá»i gian.

**CÃ¡c thÃ nh pháº§n hiá»ƒn thá»‹ tráº¡ng thÃ¡i**:

**1. Thanh tiáº¿n trÃ¬nh**
```
ÄÃ£ gá»­i â†’ ÄÃ£ nháº­n â†’ Cháº©n Ä‘oÃ¡n â†’ Sá»­a chá»¯a â†’ HoÃ n thÃ nh
   â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â—‹â”€â”€â”€â”€â”€â”€â”€â”€â—‹
  Xong       Xong      Hiá»‡n táº¡i    Chá» xá»­ lÃ½   Chá» xá»­ lÃ½
```

**2. Cháº¿ Ä‘á»™ xem dÃ²ng thá»i gian**
```
âœ… 22/10, 10:30 SA - YÃªu cáº§u dá»‹ch vá»¥ Ä‘Ã£ Ä‘Æ°á»£c táº¡o
âœ… 22/10, 02:00 CH - Thiáº¿t bá»‹ Ä‘Ã£ Ä‘Æ°á»£c nháº­n táº¡i trung tÃ¢m dá»‹ch vá»¥
âœ… 22/10, 03:15 CH - Báº¯t Ä‘áº§u cháº©n Ä‘oÃ¡n
â³ 22/10, 04:30 CH - Äang cháº©n Ä‘oÃ¡n
â¸ï¸ Æ¯á»›c tÃ­nh hoÃ n thÃ nh: 24/10, 2025
```

**3. Huy hiá»‡u tráº¡ng thÃ¡i hiá»‡n táº¡i**
-   Chá»‰ bÃ¡o tráº¡ng thÃ¡i Ä‘Æ°á»£c mÃ£ hÃ³a mÃ u (xanh lÃ¡, vÃ ng, cam, xanh dÆ°Æ¡ng)
-   MÃ´ táº£ tráº¡ng thÃ¡i báº±ng ngÃ´n ngá»¯ Ä‘Æ¡n giáº£n
-   HÃ nh Ä‘á»™ng dá»± kiáº¿n tiáº¿p theo Ä‘Æ°á»£c nÃªu rÃµ rÃ ng

**Quy táº¯c kinh doanh**:
-   Cáº­p nháº­t tráº¡ng thÃ¡i theo thá»i gian thá»±c (khÃ´ng cáº§n lÃ m má»›i trang qua WebSocket hoáº·c thÄƒm dÃ²)
-   NgÃ y hoÃ n thÃ nh Æ°á»›c tÃ­nh Ä‘Æ°á»£c hiá»ƒn thá»‹ náº¿u cÃ³
-   NgÃ´n ngá»¯ thÃ¢n thiá»‡n vá»›i khÃ¡ch hÃ ng (khÃ´ng cÃ³ thuáº­t ngá»¯ ká»¹ thuáº­t)
-   Chá»‰ hiá»ƒn thá»‹ cÃ¡c sá»± kiá»‡n liÃªn quan Ä‘áº¿n khÃ¡ch hÃ ng (áº©n cÃ¡c hoáº¡t Ä‘á»™ng ná»™i bá»™)

**CÃ¢u chuyá»‡n ngÆ°á»i dÃ¹ng**:
```
LÃ€ má»™t khÃ¡ch hÃ ng
TÃ”I MUá»N xem tiáº¿n trÃ¬nh trá»±c quan cá»§a dá»‹ch vá»¥ cá»§a mÃ¬nh
Äá»‚ TÃ”I hiá»ƒu thiáº¿t bá»‹ cá»§a mÃ¬nh Ä‘ang á»Ÿ Ä‘Ã¢u trong quy trÃ¬nh
```

**TiÃªu chÃ­ cháº¥p nháº­n**:
- [ ] Thanh tiáº¿n trÃ¬nh hiá»ƒn thá»‹ cÃ¡c bÆ°á»›c Ä‘Ã£ hoÃ n thÃ nh Ä‘Æ°á»£c tÃ´ sÃ¡ng
- [ ] DÃ²ng thá»i gian hiá»ƒn thá»‹ cÃ¡c sá»± kiá»‡n theo thá»© tá»± thá»i gian
- [ ] Huy hiá»‡u tráº¡ng thÃ¡i Ä‘Æ°á»£c hiá»ƒn thá»‹ ná»•i báº­t
- [ ] Thiáº¿t káº¿ Ä‘Ã¡p á»©ng trÃªn thiáº¿t bá»‹ di Ä‘á»™ng
- [ ] Tá»± Ä‘á»™ng lÃ m má»›i sau má»—i 60 giÃ¢y
- [ ] CÃ³ nÃºt lÃ m má»›i thá»§ cÃ´ng

---

### FR-PPT-003: Hiá»ƒn thá»‹ chi tiáº¿t dá»‹ch vá»¥

**MÃ´ táº£**: Hiá»ƒn thá»‹ thÃ´ng tin dá»‹ch vá»¥ toÃ n diá»‡n liÃªn quan Ä‘áº¿n khÃ¡ch hÃ ng.

**ThÃ´ng tin Ä‘Æ°á»£c hiá»ƒn thá»‹**:

**ThÃ´ng tin yÃªu cáº§u**:
-   Sá»‘ theo dÃµi (lá»›n, ná»•i báº­t)
-   TÃªn vÃ  thÃ´ng tin liÃªn há»‡ cá»§a khÃ¡ch hÃ ng
-   NgÃ y táº¡o yÃªu cáº§u
-   Nguá»“n (trá»±c tuyáº¿n hoáº·c táº¡i cá»­a hÃ ng)

**ThÃ´ng tin sáº£n pháº©m**:
-   Model vÃ  sá»‘ sÃª-ri cá»§a sáº£n pháº©m
-   MÃ´ táº£ sá»± cá»‘ Ä‘Æ°á»£c bÃ¡o cÃ¡o
-   TÃ¬nh tráº¡ng báº£o hÃ nh (cÃ²n hiá»‡u lá»±c hoáº·c Ä‘Ã£ háº¿t háº¡n)

**Tiáº¿n trÃ¬nh dá»‹ch vá»¥**:
-   Giai Ä‘oáº¡n hiá»‡n táº¡i (tiáº¿n trÃ¬nh cÃ´ng viá»‡c Ä‘Æ°á»£c Ä‘Æ¡n giáº£n hÃ³a)
-   Ká»¹ thuáº­t viÃªn Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh (chá»‰ tÃªn, vÃ­ dá»¥: "KTV: Minh")
-   CÃ¡c dá»‹ch vá»¥ Ä‘Ã£ thá»±c hiá»‡n (danh sÃ¡ch)
-   CÃ¡c bá»™ pháº­n Ä‘Ã£ thay tháº¿ (danh sÃ¡ch vá»›i mÃ´ táº£)

**ThÃ´ng tin tÃ i chÃ­nh**:
-   PhÃ­ cháº©n Ä‘oÃ¡n (náº¿u cÃ³)
-   PhÃ­ dá»‹ch vá»¥
-   Chi phÃ­ bá»™ pháº­n (chi tiáº¿t)
-   Tá»•ng chi phÃ­ (khÃ´ng bao gá»“m chi tiáº¿t giáº£m giÃ¡)
-   TÃ¬nh tráº¡ng thanh toÃ¡n (Chá» xá»­ lÃ½, ÄÃ£ thanh toÃ¡n, ÄÃ£ thanh toÃ¡n má»™t pháº§n)

**Biá»‡n phÃ¡p báº£o vá»‡ quyá»n riÃªng tÆ°**:
-   KhÃ´ng cÃ³ tÃªn Ä‘áº§y Ä‘á»§ hoáº·c thÃ´ng tin liÃªn há»‡ cá»§a ká»¹ thuáº­t viÃªn
-   KhÃ´ng cÃ³ phÃ¢n tÃ­ch chi phÃ­ ná»™i bá»™ (lá»£i nhuáº­n lao Ä‘á»™ng so vá»›i bá»™ pháº­n)
-   KhÃ´ng cÃ³ ghi chÃº cá»§a nhÃ¢n viÃªn hiá»ƒn thá»‹ cho khÃ¡ch hÃ ng
-   KhÃ´ng cÃ³ thÃ´ng tin khÃ¡ch hÃ ng khÃ¡c hiá»ƒn thá»‹

**CÃ¢u chuyá»‡n ngÆ°á»i dÃ¹ng**:
```
LÃ€ má»™t khÃ¡ch hÃ ng
TÃ”I MUá»N xem thÃ´ng tin chi tiáº¿t vá» dá»‹ch vá»¥ cá»§a mÃ¬nh
Äá»‚ TÃ”I biáº¿t chÃ­nh xÃ¡c nhá»¯ng gÃ¬ Ä‘ang Ä‘Æ°á»£c thá»±c hiá»‡n vÃ  chi phÃ­ lÃ  bao nhiÃªu
```

**TiÃªu chÃ­ cháº¥p nháº­n**:
- [ ] Táº¥t cáº£ thÃ´ng tin liÃªn quan Ä‘áº¿n khÃ¡ch hÃ ng Ä‘Æ°á»£c hiá»ƒn thá»‹
- [ ] Dá»¯ liá»‡u ná»™i bá»™ nháº¡y cáº£m Ä‘Æ°á»£c áº©n
- [ ] PhÃ¢n tÃ­ch tÃ i chÃ­nh rÃµ rÃ ng vÃ  chÃ­nh xÃ¡c
- [ ] Chi tiáº¿t sáº£n pháº©m bao gá»“m tÃ¬nh tráº¡ng báº£o hÃ nh
- [ ] Dá»‹ch vá»¥/bá»™ pháº­n Ä‘Æ°á»£c cáº­p nháº­t theo thá»i gian thá»±c

---

### FR-PPT-004: Theo dÃµi yÃªu cáº§u nhiá»u sáº£n pháº©m

**MÃ´ táº£**: Äá»‘i vá»›i cÃ¡c yÃªu cáº§u cÃ³ nhiá»u sáº£n pháº©m, phÃ¢n biá»‡t rÃµ rÃ ng tráº¡ng thÃ¡i cá»§a tá»«ng máº·t hÃ ng.

**Máº«u hiá»ƒn thá»‹**:
-   Hiá»ƒn thá»‹ tráº¡ng thÃ¡i yÃªu cáº§u tá»•ng thá»ƒ
-   Liá»‡t kÃª cÃ¡c sáº£n pháº©m riÃªng láº» dÆ°á»›i dáº¡ng tháº» cÃ³ thá»ƒ má»Ÿ rá»™ng
-   Má»—i sáº£n pháº©m hiá»ƒn thá»‹ tráº¡ng thÃ¡i phiáº¿u sá»­a chá»¯a Ä‘á»™c láº­p
-   HoÃ n thÃ nh tá»•ng thá»ƒ khi táº¥t cáº£ cÃ¡c sáº£n pháº©m Ä‘Ã£ xong

**Bá»‘ cá»¥c vÃ­ dá»¥**:
```
YÃªu cáº§u SR-20251022-00001
Tráº¡ng thÃ¡i: Äang tiáº¿n hÃ nh (1 trong 2 thiáº¿t bá»‹ Ä‘Ã£ hoÃ n thÃ nh)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“± iPhone 14 Pro (SN123456789)         â”‚
â”‚ Phiáº¿u sá»­a chá»¯a: SV-2025-001                     â”‚
â”‚ Tráº¡ng thÃ¡i: âœ… HoÃ n thÃ nh                    â”‚
â”‚ Sáºµn sÃ ng Ä‘á»ƒ nháº­n                         â”‚
â”‚ [ Xem chi tiáº¿t ]                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’» MacBook Pro 16" (SN987654321)       â”‚
â”‚ Phiáº¿u sá»­a chá»¯a: SV-2025-002                     â”‚
â”‚ Tráº¡ng thÃ¡i: â³ Äang cháº©n Ä‘oÃ¡n                 â”‚
â”‚ Æ¯á»›c tÃ­nh hoÃ n thÃ nh: 24/10            â”‚
â”‚ [ Xem chi tiáº¿t ]                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Quy táº¯c kinh doanh**:
-   Má»—i tháº» sáº£n pháº©m cÃ³ thá»ƒ nháº¥p Ä‘á»ƒ xem chi tiáº¿t
-   Thanh tiáº¿n trÃ¬nh hiá»ƒn thá»‹ pháº§n trÄƒm hoÃ n thÃ nh tá»•ng thá»ƒ
-   ThÃ´ng bÃ¡o Ä‘Æ°á»£c gá»­i khi tráº¡ng thÃ¡i cá»§a Báº¤T Ká»² sáº£n pháº©m nÃ o thay Ä‘á»•i
-   CÃ¡c tÃ¹y chá»n nháº­n/giao hÃ ng xuáº¥t hiá»‡n khi Táº¤T Cáº¢ cÃ¡c sáº£n pháº©m Ä‘Ã£ sáºµn sÃ ng

**CÃ¢u chuyá»‡n ngÆ°á»i dÃ¹ng**:
```
LÃ€ má»™t khÃ¡ch hÃ ng cÃ³ nhiá»u thiáº¿t bá»‹ Ä‘ang Ä‘Æ°á»£c báº£o hÃ nh
TÃ”I MUá»N xem tráº¡ng thÃ¡i riÃªng cho tá»«ng thiáº¿t bá»‹
Äá»‚ TÃ”I biáº¿t cÃ¡i nÃ o Ä‘Ã£ sáºµn sÃ ng vÃ  cÃ¡i nÃ o váº«n Ä‘ang Ä‘Æ°á»£c xá»­ lÃ½
```

**TiÃªu chÃ­ cháº¥p nháº­n**:
- [ ] YÃªu cáº§u nhiá»u sáº£n pháº©m hiá»ƒn thá»‹ táº¥t cáº£ cÃ¡c máº·t hÃ ng
- [ ] Tráº¡ng thÃ¡i phiáº¿u sá»­a chá»¯a riÃªng láº» hiá»ƒn thá»‹ cho má»—i sáº£n pháº©m
- [ ] Tiáº¿n trÃ¬nh tá»•ng thá»ƒ Ä‘Æ°á»£c tÃ­nh toÃ¡n chÃ­nh xÃ¡c
- [ ] Cháº¿ Ä‘á»™ xem chi tiáº¿t cÃ³ thá»ƒ má»Ÿ rá»™ng cho má»—i sáº£n pháº©m
- [ ] XÃ¡c nháº­n giao hÃ ng cÃ³ sáºµn khi táº¥t cáº£ Ä‘Ã£ sáºµn sÃ ng

---

### FR-PPT-005: HÃ nh Ä‘á»™ng tÆ°Æ¡ng tÃ¡c cá»§a khÃ¡ch hÃ ng

**MÃ´ táº£**: KhÃ¡ch hÃ ng cÃ³ thá»ƒ thá»±c hiá»‡n cÃ¡c hÃ nh Ä‘á»™ng cá»¥ thá»ƒ thÃ´ng qua cá»•ng thÃ´ng tin theo dÃµi.

**CÃ¡c hÃ nh Ä‘á»™ng cÃ³ sáºµn**:

**1. PhÃª duyá»‡t bÃ¡o giÃ¡ sá»­a chá»¯a** (khi tráº¡ng thÃ¡i phiáº¿u sá»­a chá»¯a = `awaiting_approval`)
-   Hiá»ƒn thá»‹ káº¿t quáº£ cháº©n Ä‘oÃ¡n
-   Hiá»ƒn thá»‹ phÃ¢n tÃ­ch chi phÃ­ chi tiáº¿t
-   CÃ¡c tÃ¹y chá»n: "PhÃª duyá»‡t sá»­a chá»¯a" hoáº·c "Tá»« chá»‘i sá»­a chá»¯a"
-   Äáº¿m ngÆ°á»£c thá»i háº¡n phÃª duyá»‡t (máº·c Ä‘á»‹nh 3 ngÃ y)
-   Giáº£i thÃ­ch rÃµ rÃ ng Ä‘iá»u gÃ¬ sáº½ xáº£y ra náº¿u bá»‹ tá»« chá»‘i

**2. XÃ¡c nháº­n phÆ°Æ¡ng thá»©c giao hÃ ng** (khi tráº¡ng thÃ¡i phiáº¿u sá»­a chá»¯a = `awaiting_customer_confirmation`)
-   Xem tÃ³m táº¯t dá»‹ch vá»¥ vÃ  hÃ³a Ä‘Æ¡n
-   Chá»n: "Tá»± nháº­n" hoáº·c "YÃªu cáº§u giao hÃ ng"
-   Náº¿u giao hÃ ng: Cung cáº¥p Ä‘á»‹a chá»‰ vÃ  thá»i gian Æ°u tiÃªn
-   Äáº¿m ngÆ°á»£c thá»i háº¡n (3 ngÃ y, sau Ä‘Ã³ tá»± Ä‘á»™ng chuyá»ƒn vá» nháº­n hÃ ng)

**3. Há»§y yÃªu cáº§u** (chá»‰ khi tráº¡ng thÃ¡i = `submitted`)
-   Há»§y trÆ°á»›c khi nháº­n sáº£n pháº©m
-   Chá»n lÃ½ do (tÃ¹y chá»n)
-   YÃªu cáº§u há»™p thoáº¡i xÃ¡c nháº­n

**4. Táº£i xuá»‘ng biÃªn nháº­n/hÃ³a Ä‘Æ¡n**
-   Táº£i xuá»‘ng PDF biÃªn nháº­n dá»‹ch vá»¥
-   Bao gá»“m táº¥t cáº£ chi tiáº¿t dá»‹ch vá»¥, chi phÃ­, thÃ´ng tin báº£o hÃ nh
-   CÃ³ sáºµn sau khi hoÃ n thÃ nh dá»‹ch vá»¥

**5. LiÃªn há»‡ trung tÃ¢m dá»‹ch vá»¥**
-   Biá»ƒu máº«u liÃªn há»‡ Ä‘Æ°á»£c Ä‘iá»n sáºµn vá»›i bá»‘i cáº£nh phiáº¿u sá»­a chá»¯a
-   Hiá»ƒn thá»‹ sá»‘ Ä‘iá»‡n thoáº¡i vÃ  email
-   TÃ­ch há»£p trÃ² chuyá»‡n trá»±c tiáº¿p (xem xÃ©t trong tÆ°Æ¡ng lai)

**Quy táº¯c kinh doanh**:
-   CÃ¡c hÃ nh Ä‘á»™ng chá»‰ cÃ³ sáºµn khi phiáº¿u sá»­a chá»¯a á»Ÿ tráº¡ng thÃ¡i thÃ­ch há»£p
-   Táº¥t cáº£ cÃ¡c hÃ nh Ä‘á»™ng Ä‘Æ°á»£c ghi láº¡i vá»›i dáº¥u thá»i gian vÃ  Ä‘á»‹a chá»‰ IP
-   Email xÃ¡c nháº­n Ä‘Æ°á»£c gá»­i sau má»—i hÃ nh Ä‘á»™ng
-   CÃ¡c hÃ nh Ä‘á»™ng khÃ´ng thá»ƒ hoÃ n tÃ¡c (hiá»ƒn thá»‹ cáº£nh bÃ¡o)

**CÃ¢u chuyá»‡n ngÆ°á»i dÃ¹ng**:
```
LÃ€ má»™t khÃ¡ch hÃ ng
TÃ”I MUá»N phÃª duyá»‡t sá»­a chá»¯a vÃ  chá»n cÃ¡c tÃ¹y chá»n giao hÃ ng trá»±c tuyáº¿n
Äá»‚ TÃ”I khÃ´ng pháº£i gá»i Ä‘iá»‡n hoáº·c Ä‘áº¿n trung tÃ¢m dá»‹ch vá»¥
```

**TiÃªu chÃ­ cháº¥p nháº­n**:
- [ ] CÃ¡c nÃºt hÃ nh Ä‘á»™ng chá»‰ hiá»ƒn thá»‹ khi Ã¡p dá»¥ng
- [ ] HÆ°á»›ng dáº«n rÃµ rÃ ng cho má»—i hÃ nh Ä‘á»™ng
- [ ] Há»™p thoáº¡i xÃ¡c nháº­n ngÄƒn cháº·n cÃ¡c hÃ nh Ä‘á»™ng vÃ´ tÃ¬nh
- [ ] ThÃ´ng bÃ¡o thÃ nh cÃ´ng sau khi hoÃ n thÃ nh hÃ nh Ä‘á»™ng
- [ ] Email xÃ¡c nháº­n Ä‘Æ°á»£c gá»­i cho má»—i hÃ nh Ä‘á»™ng
- [ ] Giao diá»‡n hÃ nh Ä‘á»™ng thÃ¢n thiá»‡n vá»›i thiáº¿t bá»‹ di Ä‘á»™ng

---

### FR-PPT-006: TÃ­ch há»£p mÃ£ QR

**MÃ´ táº£**: Táº¡o vÃ  quÃ©t mÃ£ QR Ä‘á»ƒ truy cáº­p theo dÃµi nhanh chÃ³ng.

**CÃ¡c loáº¡i mÃ£ QR**:

**1. MÃ£ QR theo dÃµi** (trÃªn biÃªn nháº­n cá»§a khÃ¡ch hÃ ng)
-   Chá»©a: URL theo dÃµi vá»›i mÃ£ Ä‘Æ°á»£c nhÃºng
-   Äá»‹nh dáº¡ng: `https://domain.com/track/{tracking_token}`
-   ÄÆ°á»£c in trÃªn biÃªn nháº­n Ä‘Æ°a cho khÃ¡ch hÃ ng
-   CÃ³ thá»ƒ quÃ©t qua báº¥t ká»³ á»©ng dá»¥ng Ä‘á»c QR nÃ o

**2. MÃ£ QR xÃ¡c minh nháº­n hÃ ng** (Ä‘á»ƒ tá»± nháº­n hÃ ng)
-   Chá»©a: MÃ£ xÃ¡c minh + ID phiáº¿u sá»­a chá»¯a
-   Äá»‹nh dáº¡ng: Táº£i trá»ng JSON cho á»©ng dá»¥ng quÃ©t cá»§a nhÃ¢n viÃªn
-   Hiá»ƒn thá»‹ trÃªn trang theo dÃµi khi sáºµn sÃ ng Ä‘á»ƒ nháº­n hÃ ng
-   NhÃ¢n viÃªn quÃ©t Ä‘á»ƒ xÃ¡c minh danh tÃ­nh khÃ¡ch hÃ ng vÃ  hoÃ n táº¥t viá»‡c nháº­n hÃ ng

**Táº¡o mÃ£ QR**:
```typescript
// MÃ£ QR theo dÃµi
const trackingQrCode = generateQRCode({
  data: `https://sstc.com/track/${trackingToken}`,
  size: 200,
  errorCorrection: 'M'
});

// MÃ£ QR xÃ¡c minh nháº­n hÃ ng
const pickupQrCode = generateQRCode({
  data: JSON.stringify({
    type: 'pickup_verification',
    ticket_id: ticketId,
    tracking_token: trackingToken,
    customer_name: customerName,
    verification_code: generateVerificationCode()
  }),
  size: 250,
  errorCorrection: 'H' // Sá»­a lá»—i cao Ä‘á»ƒ Ä‘áº£m báº£o Ä‘á»™ tin cáº­y
});
```

**CÃ¢u chuyá»‡n ngÆ°á»i dÃ¹ng**:
```
LÃ€ má»™t khÃ¡ch hÃ ng
TÃ”I MUá»N quÃ©t mÃ£ QR Ä‘á»ƒ nhanh chÃ³ng truy cáº­p tráº¡ng thÃ¡i dá»‹ch vá»¥ cá»§a mÃ¬nh
Äá»‚ TÃ”I khÃ´ng pháº£i nháº­p sá»‘ theo dÃµi thá»§ cÃ´ng
```

**TiÃªu chÃ­ cháº¥p nháº­n**:
- [ ] MÃ£ QR Ä‘Æ°á»£c in trÃªn biÃªn nháº­n cá»§a khÃ¡ch hÃ ng
- [ ] MÃ£ QR cÃ³ thá»ƒ quÃ©t báº±ng cÃ¡c á»©ng dá»¥ng mÃ¡y áº£nh tiÃªu chuáº©n
- [ ] Trang theo dÃµi hiá»ƒn thá»‹ QR nháº­n hÃ ng khi sáºµn sÃ ng
- [ ] MÃ£ QR hoáº¡t Ä‘á»™ng ngoáº¡i tuyáº¿n (URL tÄ©nh, khÃ´ng Ä‘á»™ng)
- [ ] Äá»™ tÆ°Æ¡ng pháº£n cao Ä‘á»ƒ quÃ©t Ä‘Ã¡ng tin cáº­y

---

### FR-PPT-007: TÃ¹y chá»n thÃ´ng bÃ¡o

**MÃ´ táº£**: KhÃ¡ch hÃ ng cÃ³ thá»ƒ quáº£n lÃ½ cÃ¡ch há» nháº­n cáº­p nháº­t (email, SMS trong tÆ°Æ¡ng lai).

**TÃ¹y chá»n Æ°u tiÃªn**:
-   ThÃ´ng bÃ¡o qua email Báº¬T/Táº®T (máº·c Ä‘á»‹nh: Báº¬T)
-   ThÃ´ng bÃ¡o qua SMS Báº¬T/Táº®T (tÃ­nh nÄƒng tÆ°Æ¡ng lai, máº·c Ä‘á»‹nh: Táº®T)
-   Táº§n suáº¥t thÃ´ng bÃ¡o: Táº¥t cáº£ cáº­p nháº­t | Chá»‰ cÃ¡c má»‘c quan trá»ng
-   Sá»‘ Ä‘iá»‡n thoáº¡i liÃªn há»‡ (cho SMS khi Ä‘Æ°á»£c triá»ƒn khai)

**Quáº£n lÃ½ Æ°u tiÃªn**:
-   LiÃªn káº¿t trong trang theo dÃµi: "CÃ i Ä‘áº·t thÃ´ng bÃ¡o"
-   LiÃªn káº¿t á»Ÿ chÃ¢n trang email: "Cáº­p nháº­t tÃ¹y chá»n thÃ´ng bÃ¡o"
-   CÃ¡c thay Ä‘á»•i Ã¡p dá»¥ng ngay láº­p tá»©c
-   Email xÃ¡c nháº­n Ä‘Æ°á»£c gá»­i khi tÃ¹y chá»n thay Ä‘á»•i

**ThÃ´ng bÃ¡o quan trá»ng** (khÃ´ng thá»ƒ táº¯t):
-   Dá»‹ch vá»¥ Ä‘Ã£ hoÃ n thÃ nh
-   Chá» phÃª duyá»‡t (yÃªu cáº§u hÃ nh Ä‘á»™ng)
-   Sáºµn sÃ ng Ä‘á»ƒ nháº­n (yÃªu cáº§u hÃ nh Ä‘á»™ng)

**Quy táº¯c kinh doanh**:
-   KhÃ¡ch hÃ ng cÃ³ thá»ƒ giáº£m thÃ´ng bÃ¡o nhÆ°ng khÃ´ng thá»ƒ táº¯t cÃ¡c thÃ´ng bÃ¡o quan trá»ng
-   KhÃ´ng cho phÃ©p há»§y Ä‘Äƒng kÃ½ táº¥t cáº£ cÃ¡c email (email giao dá»‹ch)
-   CÃ¡c tÃ¹y chá»n Ä‘Æ°á»£c lÆ°u trá»¯ cho má»—i mÃ£ theo dÃµi (khÃ´ng pháº£i tÃ i khoáº£n toÃ n cá»¥c)

**CÃ¢u chuyá»‡n ngÆ°á»i dÃ¹ng**:
```
LÃ€ má»™t khÃ¡ch hÃ ng
TÃ”I MUá»N kiá»ƒm soÃ¡t táº§n suáº¥t nháº­n thÃ´ng bÃ¡o
Äá»‚ TÃ”I khÃ´ng bá»‹ quÃ¡ táº£i vá»›i email nhÆ°ng váº«n Ä‘Æ°á»£c thÃ´ng bÃ¡o
```

**TiÃªu chÃ­ cháº¥p nháº­n**:
- [ ] LiÃªn káº¿t tÃ¹y chá»n thÃ´ng bÃ¡o trong trang theo dÃµi
- [ ] CÃ¡c nÃºt báº­t/táº¯t Ä‘Æ¡n giáº£n
- [ ] CÃ¡c thÃ´ng bÃ¡o quan trá»ng Ä‘Æ°á»£c Ä‘Ã¡nh dáº¥u rÃµ rÃ ng
- [ ] CÃ¡c thay Ä‘á»•i Ä‘Æ°á»£c lÆ°u ngay láº­p tá»©c
- [ ] ThÃ´ng bÃ¡o xÃ¡c nháº­n Ä‘Æ°á»£c hiá»ƒn thá»‹

---

### FR-PPT-008: Thiáº¿t káº¿ Ä‘Ã¡p á»©ng Æ°u tiÃªn thiáº¿t bá»‹ di Ä‘á»™ng

**MÃ´ táº£**: Cá»•ng thÃ´ng tin theo dÃµi Ä‘Æ°á»£c tá»‘i Æ°u hÃ³a cho cÃ¡c thiáº¿t bá»‹ di Ä‘á»™ng (dá»± kiáº¿n hÆ¡n 60% lÆ°u lÆ°á»£ng truy cáº­p).

**NguyÃªn táº¯c thiáº¿t káº¿ di Ä‘á»™ng**:
-   **Æ¯u tiÃªn di Ä‘á»™ng**: Thiáº¿t káº¿ cho mÃ n hÃ¬nh nhá», nÃ¢ng cao cho mÃ¡y tÃ­nh Ä‘á»ƒ bÃ n
-   **ThÃ¢n thiá»‡n vá»›i cáº£m á»©ng**: Má»¥c tiÃªu cáº£m á»©ng tá»‘i thiá»ƒu 44px
-   **Dá»… Ä‘á»c**: KÃ­ch thÆ°á»›c phÃ´ng chá»¯ tá»‘i thiá»ƒu 16px, Ä‘á»™ tÆ°Æ¡ng pháº£n cao
-   **Táº£i nhanh**: HÃ¬nh áº£nh Ä‘Æ°á»£c tá»‘i Æ°u hÃ³a, JS tá»‘i thiá»ƒu
-   **ThÃ¢n thiá»‡n vá»›i ngoáº¡i tuyáº¿n**: Hiá»ƒn thá»‹ dá»¯ liá»‡u Ä‘Æ°á»£c lÆ°u trong bá»™ nhá»› cache náº¿u máº¥t káº¿t ná»‘i

**Äiá»ƒm ngáº¯t Ä‘Ã¡p á»©ng**:
-   Di Ä‘á»™ng: <640px (má»™t cá»™t, bá»‘ cá»¥c xáº¿p chá»“ng)
-   MÃ¡y tÃ­nh báº£ng: 640-1024px (hai cá»™t náº¿u phÃ¹ há»£p)
-   MÃ¡y tÃ­nh Ä‘á»ƒ bÃ n: >1024px (bá»‘ cá»¥c Ä‘áº§y Ä‘á»§ vá»›i thanh bÃªn)

**CÃ¡c tÃ­nh nÄƒng dÃ nh riÃªng cho thiáº¿t bá»‹ di Ä‘á»™ng**:
-   **Nháº¥p Ä‘á»ƒ gá»i**: Sá»‘ Ä‘iá»‡n thoáº¡i cÃ³ thá»ƒ cháº¡m Ä‘á»ƒ gá»i
-   **Nháº¥p Ä‘á»ƒ gá»­i email**: Äá»‹a chá»‰ email má»Ÿ á»©ng dá»¥ng thÆ°
-   **ThÃªm vÃ o lá»‹ch**: ThÃªm cuá»™c háº¹n nháº­n hÃ ng vÃ o lá»‹ch Ä‘iá»‡n thoáº¡i
-   **Chia sáº» liÃªn káº¿t**: Báº£ng chia sáº» gá»‘c Ä‘á»ƒ chia sáº» liÃªn káº¿t theo dÃµi

**Má»¥c tiÃªu hiá»‡u suáº¥t**:
-   First Contentful Paint: <1,5 giÃ¢y trÃªn 3G
-   Time to Interactive: <3 giÃ¢y trÃªn 3G
-   Äiá»ƒm hiá»‡u suáº¥t Lighthouse: >90

**CÃ¢u chuyá»‡n ngÆ°á»i dÃ¹ng**:
```
LÃ€ má»™t khÃ¡ch hÃ ng trÃªn thiáº¿t bá»‹ di Ä‘á»™ng
TÃ”I MUá»N trang theo dÃµi hoáº¡t Ä‘á»™ng trÆ¡n tru trÃªn Ä‘iá»‡n thoáº¡i cá»§a mÃ¬nh
Äá»‚ TÃ”I cÃ³ thá»ƒ kiá»ƒm tra tráº¡ng thÃ¡i á»Ÿ báº¥t cá»© Ä‘Ã¢u, báº¥t cá»© lÃºc nÃ o
```

**TiÃªu chÃ­ cháº¥p nháº­n**:
- [ ] Thiáº¿t káº¿ Ä‘Ã¡p á»©ng Ä‘Æ°á»£c kiá»ƒm tra trÃªn iOS vÃ  Android
- [ ] CÃ¡c má»¥c tiÃªu cáº£m á»©ng Ä‘Ã¡p á»©ng cÃ¡c nguyÃªn táº¯c trá»£ nÄƒng
- [ ] KhÃ´ng cÃ³ cuá»™n ngang trÃªn thiáº¿t bá»‹ di Ä‘á»™ng
- [ ] Thá»i gian táº£i nhanh trÃªn cÃ¡c káº¿t ná»‘i cháº­m
- [ ] Hoáº¡t Ä‘á»™ng ngoáº¡i tuyáº¿n vá»›i dá»¯ liá»‡u Ä‘Æ°á»£c lÆ°u trong bá»™ nhá»› cache

---

### FR-PPT-009: Há»— trá»£ Ä‘a ngÃ´n ngá»¯

**MÃ´ táº£**: Há»— trá»£ tiáº¿ng Viá»‡t vÃ  tiáº¿ng Anh trong cá»•ng thÃ´ng tin cÃ´ng khai.

**TÃ¹y chá»n ngÃ´n ngá»¯**:
-   **ChÃ­nh**: Tiáº¿ng Viá»‡t (máº·c Ä‘á»‹nh cho thá»‹ trÆ°á»ng Viá»‡t Nam)
-   **Phá»¥**: Tiáº¿ng Anh (cho khÃ¡ch hÃ ng quá»‘c táº¿)
-   NÃºt chuyá»ƒn Ä‘á»•i ngÃ´n ngá»¯ á»Ÿ Ä‘áº§u trang (cá» VN | EN)
-   TÃ¹y chá»n ngÃ´n ngá»¯ Ä‘Æ°á»£c lÆ°u trong cookie cá»§a trÃ¬nh duyá»‡t

**Ná»™i dung Ä‘Æ°á»£c dá»‹ch**:
-   Táº¥t cáº£ cÃ¡c nhÃ£n vÃ  nÃºt giao diá»‡n ngÆ°á»i dÃ¹ng
-   MÃ´ táº£ tráº¡ng thÃ¡i
-   ThÃ´ng bÃ¡o qua email
-   ThÃ´ng bÃ¡o lá»—i
-   VÄƒn báº£n trá»£ giÃºp vÃ  chÃº giáº£i cÃ´ng cá»¥

**Quy táº¯c kinh doanh**:
-   Dá»¯ liá»‡u dá»‹ch vá»¥ (ghi chÃº, mÃ´ táº£) váº«n giá»¯ nguyÃªn ngÃ´n ngá»¯ gá»‘c
-   Tá»± Ä‘á»™ng phÃ¡t hiá»‡n ngÃ´n ngá»¯ trÃ¬nh duyá»‡t trong láº§n truy cáº­p Ä‘áº§u tiÃªn
-   NgÃ´n ngá»¯ giao diá»‡n nhÃ¢n viÃªn Ä‘á»™c láº­p vá»›i cá»•ng thÃ´ng tin cÃ´ng khai

**CÃ¢u chuyá»‡n ngÆ°á»i dÃ¹ng**:
```
LÃ€ má»™t khÃ¡ch hÃ ng quá»‘c táº¿
TÃ”I MUá»N xem thÃ´ng tin theo dÃµi báº±ng tiáº¿ng Anh
Äá»‚ TÃ”I cÃ³ thá»ƒ hiá»ƒu tráº¡ng thÃ¡i dá»‹ch vá»¥
```

**TiÃªu chÃ­ cháº¥p nháº­n**:
- [ ] NÃºt chuyá»ƒn Ä‘á»•i ngÃ´n ngá»¯ Ä‘Æ°á»£c hiá»ƒn thá»‹ ná»•i báº­t
- [ ] Táº¥t cáº£ ná»™i dung tÄ©nh Ä‘Æ°á»£c dá»‹ch
- [ ] TÃ¹y chá»n ngÃ´n ngá»¯ tá»“n táº¡i qua cÃ¡c phiÃªn
- [ ] KhÃ´ng yÃªu cáº§u há»— trá»£ RTL (VN vÃ  EN Ä‘á»u lÃ  LTR)
- [ ] Äá»‹nh dáº¡ng ngÃ y/giá» Ä‘Æ°á»£c báº£n Ä‘á»‹a hÃ³a

---

### FR-PPT-010: PhÃ¢n tÃ­ch vÃ  theo dÃµi tÆ°Æ¡ng tÃ¡c

**MÃ´ táº£**: Theo dÃµi sá»± tÆ°Æ¡ng tÃ¡c cá»§a khÃ¡ch hÃ ng vá»›i cá»•ng thÃ´ng tin theo dÃµi Ä‘á»ƒ cÃ³ thÃ´ng tin chi tiáº¿t vÃ  cáº£i tiáº¿n.

**CÃ¡c chá»‰ sá»‘ Ä‘Æ°á»£c theo dÃµi**:
-   LÆ°á»£t xem trang cho má»—i mÃ£ theo dÃµi
-   Thá»i gian dÃ nh cho trang theo dÃµi
-   CÃ¡c hÃ nh Ä‘á»™ng Ä‘Æ°á»£c thá»±c hiá»‡n (phÃª duyá»‡t, xÃ¡c nháº­n giao hÃ ng)
-   Tá»· lá»‡ quÃ©t mÃ£ QR
-   Tá»· lá»‡ nháº¥p qua liÃªn káº¿t email
-   Loáº¡i thiáº¿t bá»‹ (di Ä‘á»™ng so vá»›i mÃ¡y tÃ­nh Ä‘á»ƒ bÃ n)
-   Loáº¡i trÃ¬nh duyá»‡t
-   Tá»· lá»‡ thoÃ¡t (lÆ°á»£t xem má»™t trang)

**CÃ¢n nháº¯c vá» quyá»n riÃªng tÆ°**:
-   KhÃ´ng theo dÃµi nháº­n dáº¡ng cÃ¡ nhÃ¢n (tuÃ¢n thá»§ GDPR)
-   Chá»‰ phÃ¢n tÃ­ch tá»•ng há»£p
-   KhÃ´ng cÃ³ pixel theo dÃµi cá»§a bÃªn thá»© ba
-   Biá»ƒu ngá»¯ Ä‘á»“ng Ã½ cookie náº¿u Ä‘Æ°á»£c yÃªu cáº§u bá»Ÿi khu vá»±c phÃ¡p lÃ½

**ThÃ´ng tin chi tiáº¿t kinh doanh**:
-   XÃ¡c Ä‘á»‹nh khÃ¡ch hÃ ng cÃ³ má»©c Ä‘á»™ tÆ°Æ¡ng tÃ¡c tháº¥p Ä‘á»ƒ theo dÃµi
-   Tá»‘i Æ°u hÃ³a thá»i gian thÃ´ng bÃ¡o dá»±a trÃªn tá»· lá»‡ má»Ÿ
-   Cáº£i thiá»‡n tráº£i nghiá»‡m di Ä‘á»™ng dá»±a trÃªn dá»¯ liá»‡u thiáº¿t bá»‹
-   Thá»­ nghiá»‡m A/B cÃ¡c thay Ä‘á»•i bá»‘ cá»¥c

**CÃ¢u chuyá»‡n ngÆ°á»i dÃ¹ng**:
```
LÃ€ má»™t chá»§ doanh nghiá»‡p
TÃ”I MUá»N hiá»ƒu cÃ¡ch khÃ¡ch hÃ ng sá»­ dá»¥ng cá»•ng thÃ´ng tin theo dÃµi
Äá»‚ TÃ”I cÃ³ thá»ƒ cáº£i thiá»‡n tráº£i nghiá»‡m vÃ  tÄƒng cÆ°á»ng sá»± tÆ°Æ¡ng tÃ¡c
```

**TiÃªu chÃ­ cháº¥p nháº­n**:
- [ ] Báº£ng Ä‘iá»u khiá»ƒn phÃ¢n tÃ­ch cho ban quáº£n lÃ½
- [ ] Triá»ƒn khai theo dÃµi tuÃ¢n thá»§ quyá»n riÃªng tÆ°
- [ ] KhÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n hiá»‡u suáº¥t táº£i trang
- [ ] CÃ³ cÆ¡ cháº¿ tá»« chá»‘i
- [ ] ChÃ­nh sÃ¡ch lÆ°u giá»¯ dá»¯ liá»‡u Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh (90 ngÃ y)

---

## MÃ´ hÃ¬nh dá»¯ liá»‡u

### Báº£ng phiÃªn theo dÃµi

```sql
CREATE TABLE tracking_sessions (
  -- Nháº­n dáº¡ng chÃ­nh
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),

  -- Bá»‘i cáº£nh
  tracking_token VARCHAR(20) NOT NULL REFERENCES service_requests(tracking_token),

  -- Dá»¯ liá»‡u phiÃªn
  session_id VARCHAR(100) UNIQUE,
  ip_address INET,
  user_agent TEXT,
  device_type VARCHAR(20), -- 'mobile', 'tablet', 'desktop'
  browser VARCHAR(50),

  -- TÆ°Æ¡ng tÃ¡c
  first_visit_at TIMESTAMP DEFAULT now(),
  last_visit_at TIMESTAMP DEFAULT now(),
  page_views INT DEFAULT 1,
  actions_taken JSONB DEFAULT '[]', -- Máº£ng cÃ¡c Ä‘á»‘i tÆ°á»£ng hÃ nh Ä‘á»™ng

  -- Nguá»“n
  referrer VARCHAR(255), -- 'email', 'qr_code', 'direct', 'search'
  utm_source VARCHAR(100),
  utm_medium VARCHAR(100),

  -- TÃ¹y chá»n
  language_preference VARCHAR(10) DEFAULT 'vi',
  notification_preferences JSONB
);

-- Chá»‰ má»¥c
CREATE INDEX idx_tracking_sessions_token ON tracking_sessions(tracking_token);
CREATE INDEX idx_tracking_sessions_session ON tracking_sessions(session_id);
CREATE INDEX idx_tracking_sessions_first_visit ON tracking_sessions(first_visit_at);
```

---

### Báº£ng hÃ nh Ä‘á»™ng cá»§a khÃ¡ch hÃ ng

```sql
CREATE TABLE customer_actions (
  -- Nháº­n dáº¡ng chÃ­nh
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),

  -- Bá»‘i cáº£nh
  tracking_token VARCHAR(20) NOT NULL REFERENCES service_requests(tracking_token),
  ticket_id UUID REFERENCES service_tickets(id),
  session_id VARCHAR(100),

  -- Chi tiáº¿t hÃ nh Ä‘á»™ng
  action_type VARCHAR(50) NOT NULL, -- 'approve_repair', 'decline_repair', 'confirm_delivery', 'cancel_request', 'download_receipt'
  action_data JSONB, -- Dá»¯ liá»‡u dÃ nh riÃªng cho hÃ nh Ä‘á»™ng

  -- SiÃªu dá»¯ liá»‡u
  ip_address INET,
  user_agent TEXT,
  performed_at TIMESTAMP DEFAULT now(),

  -- Káº¿t quáº£
  success BOOLEAN DEFAULT true,
  error_message TEXT
);

-- Chá»‰ má»¥c
CREATE INDEX idx_customer_actions_token ON customer_actions(tracking_token);
CREATE INDEX idx_customer_actions_ticket ON customer_actions(ticket_id);
CREATE INDEX idx_customer_actions_type ON customer_actions(action_type);
CREATE INDEX idx_customer_actions_performed ON customer_actions(performed_at DESC);
```

---

### Báº£ng nháº­t kÃ½ mÃ£ QR

```sql
CREATE TABLE qr_code_scans (
  -- Nháº­n dáº¡ng chÃ­nh
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),

  -- Bá»‘i cáº£nh
  tracking_token VARCHAR(20) NOT NULL REFERENCES service_requests(tracking_token),
  qr_code_type VARCHAR(20) NOT NULL, -- 'tracking', 'pickup_verification'

  -- Chi tiáº¿t quÃ©t
  scanned_at TIMESTAMP DEFAULT now(),
  scanner_device VARCHAR(50), -- 'ios', 'android', 'web', 'staff_app'
  ip_address INET,

  -- Vá»‹ trÃ­ (náº¿u Ä‘Æ°á»£c cáº¥p quyá»n GPS)
  latitude DECIMAL(10, 8),
  longitude DECIMAL(11, 8)
);

-- Chá»‰ má»¥c
CREATE INDEX idx_qr_scans_token ON qr_code_scans(tracking_token);
CREATE INDEX idx_qr_scans_scanned_at ON qr_code_scans(scanned_at DESC);
```

---

## Quy táº¯c kinh doanh

### BR-PPT-001: Báº£o máº­t mÃ£ theo dÃµi

**Quy táº¯c**: MÃ£ theo dÃµi pháº£i Ä‘á»§ ngáº«u nhiÃªn Ä‘á»ƒ ngÄƒn cháº·n cÃ¡c cuá»™c táº¥n cÃ´ng liá»‡t kÃª.

**Äá»‹nh dáº¡ng mÃ£**: `SR-YYYYMMDD-XXXXX`
-   Pháº§n ngÃ y: XÃ¡c Ä‘á»‹nh ngÃ y táº¡o (khÃ´ng bÃ­ máº­t)
-   Pháº§n chuá»—i: Sá»‘ cÃ³ 5 chá»¯ sá»‘ (00001-99999)
-   Ngáº«u nhiÃªn hÃ³a: Chuá»—i hÃ ng ngÃ y Ä‘Æ°á»£c ngáº«u nhiÃªn hÃ³a (khÃ´ng tuáº§n tá»±)

**Biá»‡n phÃ¡p báº£o máº­t**:
-   Giá»›i háº¡n tá»‘c Ä‘á»™: 20 yÃªu cáº§u má»—i mÃ£ má»—i giá»
-   Giá»›i háº¡n tá»‘c Ä‘á»™ dá»±a trÃªn IP: 100 yÃªu cáº§u má»—i IP má»—i giá»
-   CÃ¡c láº§n truy cáº­p khÃ´ng thÃ nh cÃ´ng Ä‘Æ°á»£c ghi láº¡i
-   KhÃ´ng cho phÃ©p liá»‡t kÃª mÃ£ (tÃ¬m kiáº¿m bá»‹ vÃ´ hiá»‡u hÃ³a)

**Thá»±c thi**:
```typescript
// Middleware giá»›i háº¡n tá»‘c Ä‘á»™
async function trackingRateLimiter(req, res, next) {
  const token = req.params.tracking_token;
  const ip = req.ip;

  // Kiá»ƒm tra giá»›i háº¡n tá»‘c Ä‘á»™ dá»±a trÃªn mÃ£
  const tokenRequests = await redis.incr(`rate:token:${token}`);
  if (tokenRequests === 1) await redis.expire(`rate:token:${token}`, 3600);
  if (tokenRequests > 20) {
    return res.status(429).json({ error: 'QuÃ¡ nhiá»u yÃªu cáº§u cho mÃ£ theo dÃµi nÃ y' });
  }

  // Kiá»ƒm tra giá»›i háº¡n tá»‘c Ä‘á»™ dá»±a trÃªn IP
  const ipRequests = await redis.incr(`rate:ip:${ip}`);
  if (ipRequests === 1) await redis.expire(`rate:ip:${ip}`, 3600);
  if (ipRequests > 100) {
    return res.status(429).json({ error: 'QuÃ¡ nhiá»u yÃªu cáº§u tá»« Ä‘á»‹a chá»‰ IP cá»§a báº¡n' });
  }

  next();
}
```

---

### BR-PPT-002: á»¦y quyá»n hÃ nh Ä‘á»™ng

**Quy táº¯c**: CÃ¡c hÃ nh Ä‘á»™ng cá»§a khÃ¡ch hÃ ng pháº£i Ä‘Æ°á»£c á»§y quyá»n dá»±a trÃªn tráº¡ng thÃ¡i vÃ  thá»i gian cá»§a phiáº¿u sá»­a chá»¯a hiá»‡n táº¡i.

**Ma tráº­n á»§y quyá»n**:

| HÃ nh Ä‘á»™ng | ÄÆ°á»£c phÃ©p khi | Háº¡n chÃ³t |
|---|---|---|
| Há»§y yÃªu cáº§u | tráº¡ng thÃ¡i = 'submitted' | Báº¥t cá»© lÃºc nÃ o trÆ°á»›c khi nháº­n |
| PhÃª duyá»‡t sá»­a chá»¯a | tráº¡ng thÃ¡i = 'awaiting_approval' | Trong vÃ²ng 3 ngÃ y |
| Tá»« chá»‘i sá»­a chá»¯a | tráº¡ng thÃ¡i = 'awaiting_approval' | Trong vÃ²ng 3 ngÃ y |
| XÃ¡c nháº­n giao hÃ ng | tráº¡ng thÃ¡i = 'awaiting_customer_confirmation' | Trong vÃ²ng 3 ngÃ y |
| Táº£i xuá»‘ng biÃªn nháº­n | tráº¡ng thÃ¡i = 'completed' | Báº¥t cá»© lÃºc nÃ o |

**Thá»±c thi**:
```sql
CREATE OR REPLACE FUNCTION validate_customer_action(
  p_ticket_id UUID,
  p_action_type VARCHAR(50)
) RETURNS BOOLEAN AS $$
DECLARE
  ticket_status VARCHAR(50);
  ticket_completed_at TIMESTAMP;
BEGIN
  -- Láº¥y tráº¡ng thÃ¡i phiáº¿u sá»­a chá»¯a
  SELECT status, completed_at
  INTO ticket_status, ticket_completed_at
  FROM service_tickets
  WHERE id = p_ticket_id;

  -- XÃ¡c thá»±c hÃ nh Ä‘á»™ng dá»±a trÃªn tráº¡ng thÃ¡i
  CASE p_action_type
    WHEN 'approve_repair', 'decline_repair' THEN
      RETURN ticket_status = 'awaiting_approval';

    WHEN 'confirm_delivery' THEN
      RETURN ticket_status = 'awaiting_customer_confirmation'
         AND ticket_completed_at > now() - INTERVAL '3 days';

    WHEN 'download_receipt' THEN
      RETURN ticket_status = 'completed';

    ELSE
      RETURN false;
  END CASE;
END;
$$ LANGUAGE plpgsql;
```

---

### BR-PPT-003: Quy táº¯c hiá»ƒn thá»‹ dá»¯ liá»‡u

**Quy táº¯c**: Chá»‰ dá»¯ liá»‡u phÃ¹ há»£p vá»›i khÃ¡ch hÃ ng má»›i Ä‘Æ°á»£c hiá»ƒn thá»‹ trÃªn cá»•ng thÃ´ng tin theo dÃµi.

**Dá»¯ liá»‡u bá»‹ áº©n**:
-   TÃªn Ä‘áº§y Ä‘á»§ vÃ  thÃ´ng tin liÃªn há»‡ cá»§a nhÃ¢n viÃªn
-   PhÃ¢n tÃ­ch chi phÃ­ ná»™i bá»™ (lá»£i nhuáº­n lao Ä‘á»™ng, chÃªnh lá»‡ch giÃ¡ phá»¥ tÃ¹ng)
-   Ghi chÃº cá»§a nhÃ¢n viÃªn vÃ  bÃ¬nh luáº­n ná»™i bá»™
-   ThÃ´ng tin cá»§a cÃ¡c khÃ¡ch hÃ ng khÃ¡c
-   Chi tiáº¿t cháº©n Ä‘oÃ¡n nháº¡y cáº£m (chá»‰ hiá»ƒn thá»‹ tÃ³m táº¯t)

**Dá»¯ liá»‡u hiá»ƒn thá»‹**:
-   ThÃ´ng tin cá»§a chÃ­nh khÃ¡ch hÃ ng
-   Chi tiáº¿t sáº£n pháº©m vÃ  tÃ¬nh tráº¡ng báº£o hÃ nh
-   Tiáº¿n trÃ¬nh dá»‹ch vá»¥ cáº¥p cao
-   Tá»•ng chi phÃ­ (khÃ´ng pháº£i phÃ¢n tÃ­ch chi tiáº¿t)
-   MÃ´ táº£ tráº¡ng thÃ¡i an toÃ n cÃ´ng khai

**Thá»±c thi** (cháº¿ Ä‘á»™ xem cÆ¡ sá»Ÿ dá»¯ liá»‡u):
```sql
CREATE VIEW public_tracking_view AS
SELECT
  sr.tracking_token,
  sr.customer_name,
  sr.customer_phone,
  sr.customer_email,
  sr.status,
  sr.created_at,
  sr.expected_products,

  st.ticket_number,
  st.status AS ticket_status,
  st.service_type,
  st.diagnosis_notes, -- Chá»‰ phiÃªn báº£n Ä‘Ã£ Ä‘Æ°á»£c lÃ m sáº¡ch
  st.total_cost,
  st.completed_at,

  -- Tiáº¿n trÃ¬nh cÃ´ng viá»‡c Ä‘Ã£ Ä‘Æ°á»£c lÃ m sáº¡ch (nhÃ£n thÃ¢n thiá»‡n vá»›i khÃ¡ch hÃ ng)
  (SELECT json_agg(
    json_build_object(
      'name', COALESCE(customer_task_labels.label, tt.name),
      'status', stt.status,
      'completed_at', stt.completed_at
    )
    ORDER BY stt.sequence_order
  )
  FROM service_ticket_tasks stt
  JOIN task_types tt ON stt.task_type_id = tt.id
  LEFT JOIN customer_task_labels ON tt.id = customer_task_labels.task_type_id
  WHERE stt.ticket_id = st.id
  ) AS tasks

FROM service_requests sr
LEFT JOIN service_tickets st ON st.request_id = sr.id
WHERE sr.status != 'cancelled';
```

---

### BR-PPT-004: CÆ¡ cháº¿ cáº­p nháº­t thá»i gian thá»±c

**Quy táº¯c**: Trang theo dÃµi pháº£i pháº£n Ã¡nh tráº¡ng thÃ¡i hiá»‡n táº¡i trong vÃ²ng 10 giÃ¢y sau báº¥t ká»³ thay Ä‘á»•i nÃ o.

**TÃ¹y chá»n triá»ƒn khai**:

**TÃ¹y chá»n A: WebSocket (Khuyáº¿n nghá»‹)**
-   MÃ¡y chá»§ Ä‘áº©y cáº­p nháº­t Ä‘áº¿n cÃ¡c mÃ¡y khÃ¡ch Ä‘Æ°á»£c káº¿t ná»‘i
-   Cáº­p nháº­t tá»©c thÃ¬ khi tráº¡ng thÃ¡i phiáº¿u sá»­a chá»¯a thay Ä‘á»•i
-   Táº£i mÃ¡y chá»§ tháº¥p hÆ¡n so vá»›i thÄƒm dÃ²

**TÃ¹y chá»n B: ThÄƒm dÃ² ngáº¯n (Dá»± phÃ²ng)**
-   MÃ¡y khÃ¡ch yÃªu cáº§u cáº­p nháº­t sau má»—i 30-60 giÃ¢y
-   Hoáº¡t Ä‘á»™ng vá»›i táº¥t cáº£ cÃ¡c trÃ¬nh duyá»‡t, khÃ´ng cáº§n cÆ¡ sá»Ÿ háº¡ táº§ng Ä‘áº·c biá»‡t
-   Táº£i mÃ¡y chá»§ cao hÆ¡n

**Thá»±c thi**:
```typescript
// Triá»ƒn khai WebSocket
io.on('connection', (socket) => {
  // MÃ¡y khÃ¡ch Ä‘Äƒng kÃ½ mÃ£ theo dÃµi
  socket.on('track', (trackingToken) => {
    socket.join(`tracking:${trackingToken}`);
  });

  // PhÃ¡t cáº­p nháº­t khi phiáº¿u sá»­a chá»¯a thay Ä‘á»•i
  async function onTicketUpdate(ticketId) {
    const ticket = await getTicketDetails(ticketId);
    const trackingToken = ticket.request.tracking_token;

    io.to(`tracking:${trackingToken}`).emit('status_update', {
      ticket: sanitizeForPublic(ticket),
      timestamp: new Date()
    });
  }
});
```

---

### BR-PPT-005: Kháº£ nÄƒng ngoáº¡i tuyáº¿n

**Quy táº¯c**: Trang theo dÃµi pháº£i hiá»ƒn thá»‹ tráº¡ng thÃ¡i Ä‘Ã£ biáº¿t cuá»‘i cÃ¹ng náº¿u máº¥t káº¿t ná»‘i.

**HÃ nh vi**:
-   LÆ°u trá»¯ dá»¯ liá»‡u theo dÃµi trong localStorage cá»§a trÃ¬nh duyá»‡t
-   Hiá»ƒn thá»‹ dá»¯ liá»‡u Ä‘Æ°á»£c lÆ°u trong bá»™ nhá»› cache vá»›i cáº£nh bÃ¡o "Cáº­p nháº­t láº§n cuá»‘i: X phÃºt trÆ°á»›c"
-   Tá»± Ä‘á»™ng thá»­ láº¡i káº¿t ná»‘i
-   Hiá»ƒn thá»‹ biá»ƒu ngá»¯ "Ngoáº¡i tuyáº¿n - Ä‘ang cá»‘ gáº¯ng káº¿t ná»‘i láº¡i"

**Thá»±c thi**:
```typescript
// Service Worker Ä‘á»ƒ há»— trá»£ ngoáº¡i tuyáº¿n
self.addEventListener('fetch', (event) => {
  if (event.request.url.includes('/track/')) {
    event.respondWith(
      caches.match(event.request).then((cachedResponse) => {
        return fetch(event.request)
          .then((networkResponse) => {
            // Cáº­p nháº­t bá»™ nhá»› cache vá»›i dá»¯ liá»‡u má»›i
            caches.open('tracking-v1').then((cache) => {
              cache.put(event.request, networkResponse.clone());
            });
            return networkResponse;
          })
          .catch(() => {
            // Máº¡ng khÃ´ng thÃ nh cÃ´ng, tráº£ vá» dá»¯ liá»‡u Ä‘Æ°á»£c lÆ°u trong bá»™ nhá»› cache
            return cachedResponse || new Response('Ngoáº¡i tuyáº¿n - vui lÃ²ng thá»­ láº¡i sau');
          });
      })
    );
  }
});
```

---

## Luá»“ng cÃ´ng viá»‡c

### Luá»“ng cÃ´ng viá»‡c 1: HÃ nh trÃ¬nh theo dÃµi cá»§a khÃ¡ch hÃ ng

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 HÃ€NH TRÃŒNH THEO DÃ•I Cá»¦A KHÃCH HÃ€NG                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

KHÃCH HÃ€NG                        Há»† THá»NG

1. Nháº­n biÃªn nháº­n vá»›i â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Lá»… tÃ¢n in biÃªn nháº­n
   sá»‘ theo dÃµi + mÃ£ QR            â”œâ”€> Sá»‘ theo dÃµi: SR-20251022-00001
                                         â””â”€> MÃ£ QR: URL theo dÃµi

2. QuÃ©t mÃ£ QR hoáº·c â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> PhÃ¡t hiá»‡n quÃ©t qua nháº­t kÃ½ mÃ£ QR
   nháº¥p vÃ o liÃªn káº¿t email

3. Chuyá»ƒn hÆ°á»›ng Ä‘áº¿n trang theo dÃµi â—„â”€â”€â”€â”€â”€â”€â”€â”€ Táº£i: /track/SR-20251022-00001
   https://sstc.com/track/             â”‚
   SR-20251022-00001                    â”œâ”€> Kiá»ƒm tra giá»›i háº¡n tá»‘c Ä‘á»™ (vÆ°á»£t qua)
                                         â”œâ”€> XÃ¡c thá»±c mÃ£ (há»£p lá»‡)
                                         â””â”€> Láº¥y dá»¯ liá»‡u theo dÃµi

4. Xem trang theo dÃµi â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Hiá»ƒn thá»‹ giao diá»‡n theo dÃµi:
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”œâ”€> Thanh tiáº¿n trÃ¬nh
   â”‚ ğŸ” Theo dÃµi dá»‹ch vá»¥ cá»§a báº¡n       â”‚     â”œâ”€> DÃ²ng thá»i gian
   â”‚ SR-20251022-00001           â”‚     â”œâ”€> Chi tiáº¿t sáº£n pháº©m
   â”‚                              â”‚     â”œâ”€> Tráº¡ng thÃ¡i dá»‹ch vá»¥
   â”‚ Tráº¡ng thÃ¡i: Äang cháº©n Ä‘oÃ¡n         â”‚     â””â”€> Æ¯á»›c tÃ­nh hoÃ n thÃ nh
   â”‚                              â”‚
   â”‚ â—â”€â”€â”€â—â”€â”€â”€â—â”€â”€â”€â—‹â”€â”€â”€â—‹            â”‚
   â”‚ ÄÃ£ gá»­i â†’ ÄÃ£ nháº­n â†’       â”‚
   â”‚ Cháº©n Ä‘oÃ¡n â†’ Sá»­a chá»¯a â†’         â”‚
   â”‚ HoÃ n thÃ nh                    â”‚
   â”‚                              â”‚
   â”‚ iPhone 14 Pro                â”‚
   â”‚ Phiáº¿u sá»­a chá»¯a: SV-2025-001          â”‚
   â”‚                              â”‚
   â”‚ DÃ²ng thá»i gian:                    â”‚
   â”‚ âœ… 22/10, 10:30 - ÄÃ£ gá»­i â”‚
   â”‚ âœ… 22/10, 14:00 - ÄÃ£ nháº­n  â”‚
   â”‚ â³ 22/10, 15:30 - Cháº©n Ä‘oÃ¡n â”‚
   â”‚                              â”‚
   â”‚ Æ¯á»›c tÃ­nh hoÃ n thÃ nh: 24/10      â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

5. ÄÄƒng kÃ½ cáº­p nháº­t â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> Káº¿t ná»‘i WebSocket
   (tá»± Ä‘á»™ng)                         â””â”€> Tham gia phÃ²ng: tracking:SR-20251022-00001

6. Tiáº¿p tá»¥c sá»­ dá»¥ng Ä‘iá»‡n thoáº¡i â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   (trang theo dÃµi á»Ÿ cháº¿ Ä‘á»™ ná»n)

                    [30 phÃºt sau]

7. Phiáº¿u sá»­a chá»¯a Ä‘Æ°á»£c cáº­p nháº­t (nhÃ¢n viÃªn) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> Ká»¹ thuáº­t viÃªn hoÃ n thÃ nh cháº©n Ä‘oÃ¡n
                                       â””â”€> Tráº¡ng thÃ¡i phiáº¿u sá»­a chá»¯a: awaiting_approval

8. Nháº­n cáº­p nháº­t thá»i gian thá»±c â—„â”€â”€â”€â”€â”€â”€â”€â”€ PhÃ¡t WebSocket:
   (trang tá»± Ä‘á»™ng cáº­p nháº­t)                 â””â”€> sá»± kiá»‡n status_update

9. Xem tráº¡ng thÃ¡i Ä‘Ã£ cáº­p nháº­t â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Hiá»ƒn thá»‹ láº¡i trang theo dÃµi:
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”œâ”€> Huy hiá»‡u tráº¡ng thÃ¡i má»›i
   â”‚ Tráº¡ng thÃ¡i: Chá» phÃª duyá»‡t   â”‚     â”œâ”€> NÃºt hÃ nh Ä‘á»™ng xuáº¥t hiá»‡n
   â”‚                              â”‚     â””â”€> Cáº­p nháº­t dÃ²ng thá»i gian
   â”‚ âš ï¸ YÃªu cáº§u hÃ nh Ä‘á»™ng           â”‚
   â”‚                              â”‚
   â”‚ Cháº©n Ä‘oÃ¡n hoÃ n táº¥t:          â”‚
   â”‚ Bá»™ sá»‘ hÃ³a mÃ n hÃ¬nh bá»‹ lá»—i      â”‚
   â”‚ Pin bá»‹ chai (65%)       â”‚
   â”‚                              â”‚
   â”‚ Chi phÃ­ sá»­a chá»¯a: 800.000 VNÄ     â”‚
   â”‚ â”œâ”€> Cháº©n Ä‘oÃ¡n: 100.000       â”‚
   â”‚ â”œâ”€> Phá»¥ tÃ¹ng: 500.000           â”‚
   â”‚ â””â”€> CÃ´ng lao Ä‘á»™ng: 200.000           â”‚
   â”‚                              â”‚
   â”‚ PhÃª duyá»‡t trÆ°á»›c: 25/10 (3 ngÃ y)  â”‚
   â”‚                              â”‚
   â”‚ [ PhÃª duyá»‡t sá»­a chá»¯a ]           â”‚
   â”‚ [ Tá»« chá»‘i sá»­a chá»¯a ]           â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

10. CÅ©ng nháº­n Ä‘Æ°á»£c email â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Email thÃ´ng bÃ¡o Ä‘Æ°á»£c gá»­i:
    thÃ´ng bÃ¡o                        "YÃªu cáº§u hÃ nh Ä‘á»™ng: PhÃª duyá»‡t sá»­a chá»¯a"

11. Xem láº¡i chi tiáº¿t chi phÃ­
    â””â”€> Cuá»™n qua cháº©n Ä‘oÃ¡n

12. Nháº¥p vÃ o "PhÃª duyá»‡t sá»­a chá»¯a" â”€â”€â”€â”€â”€â”€â”€â”€â”€> Há»™p thoáº¡i xÃ¡c nháº­n:
                                       "PhÃª duyá»‡t sá»­a chá»¯a vá»›i giÃ¡ 800.000 VNÄ?"

13. XÃ¡c nháº­n phÃª duyá»‡t â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> POST /api/public/approve-repair
                                       â”‚
                                       â”œâ”€> XÃ¡c thá»±c hÃ nh Ä‘á»™ng (Ä‘Æ°á»£c phÃ©p)
                                       â”œâ”€> Cáº­p nháº­t phiáº¿u sá»­a chá»¯a: tráº¡ng thÃ¡i = Ä‘Ã£ phÃª duyá»‡t
                                       â”œâ”€> Ghi nháº­t kÃ½ customer_action
                                       â””â”€> Gá»­i email xÃ¡c nháº­n

14. Xem thÃ´ng bÃ¡o thÃ nh cÃ´ng â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ "Sá»­a chá»¯a Ä‘Ã£ Ä‘Æ°á»£c phÃª duyá»‡t! CÃ´ng viá»‡c sáº½ sá»›m báº¯t Ä‘áº§u."
    â””â”€> Trang cáº­p nháº­t thÃ nh                â””â”€> Cáº­p nháº­t WebSocket Ä‘Æ°á»£c gá»­i
        "Äang tiáº¿n hÃ nh sá»­a chá»¯a"

15. Tiáº¿p tá»¥c theo dÃµi tiáº¿n trÃ¬nh â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>
    trong vÃ i ngÃ y tá»›i                 (láº·p láº¡i cÃ¡c bÆ°á»›c 5-9 khi tráº¡ng thÃ¡i cáº­p nháº­t)

                    [2 ngÃ y sau]

16. ThÃ´ng bÃ¡o cuá»‘i cÃ¹ng â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Phiáº¿u sá»­a chá»¯a Ä‘Ã£ hoÃ n thÃ nh:
    "Thiáº¿t bá»‹ sáºµn sÃ ng Ä‘á»ƒ nháº­n"          â””â”€> Email + cáº­p nháº­t WebSocket

17. Má»Ÿ trang theo dÃµi â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> Táº£i tráº¡ng thÃ¡i má»›i nháº¥t

18. Xem tráº¡ng thÃ¡i hoÃ n thÃ nh â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Hiá»ƒn thá»‹ cháº¿ Ä‘á»™ xem hoÃ n thÃ nh:
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ âœ… Dá»‹ch vá»¥ Ä‘Ã£ hoÃ n thÃ nh!       â”‚
    â”‚                              â”‚
    â”‚ Thiáº¿t bá»‹ cá»§a báº¡n Ä‘Ã£ sáºµn sÃ ng!        â”‚
    â”‚                              â”‚
    â”‚ Chá»n phÆ°Æ¡ng thá»©c giao hÃ ng:      â”‚
    â”‚                              â”‚
    â”‚ [ Tá»± nháº­n ]              â”‚
    â”‚ [ YÃªu cáº§u giao hÃ ng ]         â”‚
    â”‚                              â”‚
    â”‚ MÃ£ QR Ä‘á»ƒ nháº­n hÃ ng:          â”‚
    â”‚ [   HÃŒNH áº¢NH MÃƒ QR   ]        â”‚
    â”‚                              â”‚
    â”‚ [ Táº£i xuá»‘ng biÃªn nháº­n ]         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

19. Chá»n "Tá»± nháº­n" â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> POST /api/public/confirm-delivery
                                       â””â”€> delivery_method: self_pickup

20. Xem chi tiáº¿t nháº­n hÃ ng â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Hiá»ƒn thá»‹ hÆ°á»›ng dáº«n nháº­n hÃ ng:
    + MÃ£ QR                          â”œâ”€> Äá»‹a chá»‰ trung tÃ¢m dá»‹ch vá»¥
    + Äá»‹a chá»‰                           â”œâ”€> Giá» hoáº¡t Ä‘á»™ng
    + Giá»                             â”œâ”€> MÃ£ QR Ä‘á»ƒ xÃ¡c minh
                                         â””â”€> Tá»•ng sá»‘ tiá»n pháº£i tráº£

21. Äáº¿n trung tÃ¢m dá»‹ch vá»¥
    â””â”€> ÄÆ°a mÃ£ QR cho nhÃ¢n viÃªn â”€â”€â”€â”€â”€â”€> NhÃ¢n viÃªn quÃ©t mÃ£ QR
                                       â””â”€> XÃ¡c minh khÃ¡ch hÃ ng + phiáº¿u sá»­a chá»¯a

22. Nháº­n thiáº¿t bá»‹ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ NhÃ¢n viÃªn hoÃ n táº¥t viá»‡c nháº­n hÃ ng:
    + Thanh toÃ¡n sá»‘ tiá»n pháº£i tráº£                   â””â”€> Phiáº¿u sá»­a chá»¯a: tráº¡ng thÃ¡i = Ä‘Ã£ Ä‘Ã³ng
    + Nháº­n biÃªn nháº­n
```
